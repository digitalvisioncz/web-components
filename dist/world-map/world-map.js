import{j as h,a as i,T as f}from"../tooltip/tooltip.js";import{u as l,a as p,b as m,c as v,M,d as b}from"../assets/use-suspense-BjPvV8wp.js";import{u as g}from"./hooks/useWorldMap.js";import{u as w}from"./hooks/useMapData.js";import"./helpers/validation.js";const x=(e,t)=>{const o=l();p(()=>{let s=!1,r,a=()=>{r&&r(),r=null};const n=async()=>{s||(s=!0,await o.current.updated,a(),s=!1,r=e())},u=t.map(c=>c==null?void 0:c.on(n));return o.once||(o.once=!0,n()),()=>{u.map(c=>c&&c()),a()}},t)};function E(e,t={childList:!0,characterData:!0}){N(l(),e,t)}function N(e,t,o={childList:!0,characterData:!0}){const s=m();s.current=t,x(()=>{if(!e.current)return;const r=new MutationObserver(n=>{n.forEach(({addedNodes:u})=>u.forEach(a)),s.current(n,r)}),a=n=>{n instanceof Text&&r.observe(n,{...o,characterData:!0})};return r.observe(e.current,o),e.current.childNodes.forEach(a),()=>r.disconnect()},[e])}const d=e=>Array.from(e.childNodes).filter(t=>!(t instanceof M)&&!(t instanceof Comment));function R(e={childList:!0}){const t=l(),[o,s]=v(()=>d(t.current));return E(()=>{s(d(t.current))},e),o}const y=b(({showAntarctica:e})=>{const t=R(),{countriesToHighlight:o}=w(t),[s,{dimensions:r}]=g({showAntarctica:e,countriesToHighlight:o});return h("host",{children:[i("div",{style:{width:"100%",height:"auto",position:"relative",aspectRatio:"16 / 7"},children:i("svg",{ref:s,width:"100%",height:"100%",viewBox:`0 0 ${r.width} ${r.height}`,preserveAspectRatio:"xMidYMid meet"})}),i(f,{children:i("span",{slot:"tooltip",style:{padding:"5px 10px",backgroundColor:"#333",color:"#fff",borderRadius:"4px"},children:"Hello"})})]})},{props:{showAntarctica:{type:Boolean,reflect:!0,value:!1},children:{type:Element}}});customElements.define("dv-world-map",y);
